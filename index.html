<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>QOSQO MAPPERS</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1" />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css' rel='stylesheet' />
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel = "icon" href = "images/qm1.png" type = "image/x-icon">
	 
  </head>
  <style>
    .mapboxgl-ctrl-logo {
    display: none !important;
}
    body {
      margin: 0;
      padding: 0;
    }
    #map {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }
    .marker {
      background-image: url('mapbox-icon.png');
      background-size: cover;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
    }
    .mapboxgl-popup {
      max-width: 200px;
    }
    .mapboxgl-popup-close-button {
      display: inline;
      font: 400 15px/22px 'Source Sans Pro', 'Helvetica Neue', Sans-serif;
    }
    .mapboxgl-popup-content {
      font: 400 15px/22px 'Source Sans Pro', 'Helvetica Neue', Sans-serif;
      padding: 0;
      width: 250px;
      position: inherit;
    }

    .mapboxgl-popup-content-wrapper {
      padding: 1%;
    }

    .mapboxgl-popup-content h3 {
      background: #91c949;
      color: #fff;
      margin: 0;
      display: block;
      padding: 6px;
      border-radius: 10px 10px 0 0;
      font-weight: 0px;
      font-size: 20px;
      margin-top: -15px;
    }
    .mapboxgl-popup-content h4 {
      margin: 0;
      display: block;
      padding: 10px;
      font-weight: 5px;
    }

    .mapboxgl-popup-content div {
      padding: 10px;
    }

    .mapboxgl-container .leaflet-marker-icon {
      cursor: pointer;
    }

    .mapboxgl-popup-anchor-top > .mapboxgl-popup-content {
      margin-top: 15px;
    }

    .mapboxgl-popup-anchor-top > .mapboxgl-popup-tip {
      border-bottom-color: #91c949;
    }
    h6 { 
      display: block;
      font-size: .4em;
      margin-top: 0.1em;
      margin-bottom: 0.2em;
      margin-left: 0;
      margin-right: 0;
}
    p {
      color: navy;
      text-indent: 30px;
      text-transform: uppercase;
      font-size: 15px;
    }
    img {
      border-radius: 50%;
      height: 30px;
      width: 30px;
      margin-left: 10px;
      vertical-align:middle;
    
    }
   
  </style>
  <header class="cabecera-barra">
      <div class="cabecera-barra-1"  style="z-index: 10000; position: relative; top: 0;">
          <div class="cabecera-separador">
   
              <h1><a href="#">Qosqo<span>Mappers</span></a></h1>
              <nav>
                  <a href="#" class="activo">Inicio</a>
                  <a href="#" >Acerca de</a>
                  <a href="#">ITEM LIBRE</a>
                  <a><select class="select-css" id="pubTypeFilter" name="pubTypeFilter" >
                    <option value="">DISTRITOS</option>
                  </select></a>
              </nav>
          </div>
      </div>
      
      <div   style="z-index: 10000; position: relative; top: 0;">
        <input type="checkbox" id="check">

  <label for="check">
<i class="fa fa-bars" id="btn"></i>
<i class="fa fa-times" id="cancle"></i>


  </label>
  <div class="sidebar">
    <header><img src="images/qm1.png">
    <h6>Mapa de las obras públicas inconclusas en la provincia del Cusco, para visibilizar...</h6>
    </header>
<ul >
    <li><a href="#" id="fly1"><img src="images/sebas.png">SAN SEBASTIAN</a></li>
    <li><a href="#" id="fly2"><img src="images/santi.png"></i>SANTIAGO</a></li>
    <li><a href="#" id="fly3"><img src="images/wan.png">WANCHAQ</a></li>
    <li><a href="#" id="fly4"><img src="images/say.png">SAYLLA</a></li>
    <li><a href="#" id="fly5"><img src="images/cusco.png">CUSCO</a></li>
    <li><a href="#" id="fly6"><img src="images/cusco.png">POROY</a></li>
    <li><a href="#" id="fly7"><img src="images/jero.png">SAN JERONIMO</a></li>
    </ul>
   <li>
      <div class="social-links">
        <a href="#" class="twitter"><i class="fa fa-twitter"></i></a>
        <a href="#" class="instagram"><i class="fa fa-instagram"></i></a>
        <a href="#" class="google-plus"><i class="fa fa-youtube"></i></a>
        <a href="#" class="facebook"><i class="fa fa-facebook"></i></a>
        
      </div>
    </li>
   

</div>
<section></section>

      </div>
  </header>
  <body style="margin: 0px; padding: 0px;">
    
    
    <div id="map" style="position: absolute; top: 0px; bottom: 0px; width: 100%;"></div>
    
    <script>
      mapboxgl.accessToken =
        "pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA";
      const map = new mapboxgl.Map({
        container: "map",
        style: "mapbox://styles/mapbox/dark-v10",
        zoom: 13,
        attributionControl: false,
        center: [-71.93740322917174,-13.530044282718151], 
      });
      map.on('load', function () {
      map.addSource('route', {
      'type': 'geojson',
      'data': {
      'type': 'Feature',
      'properties': {},
      'geometry': {
      'type': 'LineString',
      'coordinates': [
                [
                  -71.950364112854,
                  -13.533401139389131
                ],
                [
                  -71.93912029266357,
                  -13.534360783531133
                ],
                [
                  -71.92972183227539,
                  -13.53565421081826
                ],
                [
                  -71.92079544067381,
                  -13.5364052298884
                ]
              ]
      }
      }
      });
      map.addLayer({
      'id': 'route',
      'type': 'line',
      'source': 'route',
      'layout': {
      'line-join': 'round',
      'line-cap': 'round'
      },
      'paint': {
      'line-color': '#ffffff',
      'line-width': 3
      }
      });
      });
      document.getElementById('fly1').addEventListener('click', function () {
          // Fly to a random location by offsetting the point -74.50, 40
          // by up to 5 degrees.
          map.flyTo({
          center: [-71.96734,-13.52264],
          zoom: 15,
          essential: true // this animation is considered essential with respect to prefers-reduced-motion
          });
      });
      document.getElementById('fly2').addEventListener('click', function () {
          // Fly to a random location by offsetting the point -74.50, 40
          // by up to 5 degrees.
          map.flyTo({
          center: [-71.98332465059556,-13.525372799633221],
          zoom: 15,
          essential: true // this animation is considered essential with respect to prefers-reduced-motion
          });
      });
      document.getElementById('fly3').addEventListener('click', function () {
          // Fly to a random location by offsetting the point -74.50, 40
          // by up to 5 degrees.
          map.flyTo({
          center: [-71.97111341471154,-13.52198728600925],
          zoom: 15,
          essential: true // this animation is considered essential with respect to prefers-reduced-motion
          });
      });
      document.getElementById('fly4').addEventListener('click', function () {
          // Fly to a random location by offsetting the point -74.50, 40
          // by up to 5 degrees.
          map.flyTo({
          center: [-71.83670661782094,-13.56619248671834],
          zoom: 15,
          essential: true // this animation is considered essential with respect to prefers-reduced-motion
          });
      });
      document.getElementById('fly5').addEventListener('click', function () {
          // Fly to a random location by offsetting the point -74.50, 40
          // by up to 5 degrees.
          map.flyTo({
          center: [-71.97347713863873,-13.519734071127777],
          zoom: 15,
          essential: true // this animation is considered essential with respect to prefers-reduced-motion
          });
      });
      document.getElementById('fly6').addEventListener('click', function () {
          // Fly to a random location by offsetting the point -74.50, 40
          // by up to 5 degrees.
          map.flyTo({
          center: [-72.04212972011547,-13.495376569427018],
          zoom: 15,
          essential: true // this animation is considered essential with respect to prefers-reduced-motion
          });
      });
      document.getElementById('fly7').addEventListener('click', function () {
          // Fly to a random location by offsetting the point -74.50, 40
          // by up to 5 degrees.
          map.flyTo({
          center: [-71.88433117471934,-13.544528390846814],
          zoom: 15,
          essential: true // this animation is considered essential with respect to prefers-reduced-motion
          });
      });
      // Add geolocate control to the map.
      map.addControl(
      new mapboxgl.GeolocateControl({
      positionOptions: {
      enableHighAccuracy: true
      },
      trackUserLocation: true
      })
      );
      window.map = map;
	  
      const geojson = {
        id: "places",
        type: "FeatureCollection",
        features: [
                  {
          type: 'Feature',
          properties: {
              name: "linea linea",
              PubType: "LINEA PUNTO",
              times:
              "<br>"+"CÓDIGO SNIP: 378993"+
                "<br>" +
                "PRESUPUESTO: S/. 1,753,170.12"+
                "<br>" +
                "TIPO DE OBRA: Vías"+
                "<br>" +
                "PLAZO: 03/09/2020 - 30/04/2021"+
                "% AVANCE FÍSICO: 55%"+
                "<br>" +
                "BENEFICIARIOS: 989"+
                "<br>"
            },
            geometry: {
              type: "LineString",
              coordinates:  [
              [
                -71.950364112854,
                -13.533401139389131
              ],
              [
                -71.93912029266357,
                -13.534360783531133
              ],
              [
                -71.92972183227539,
                -13.53565421081826
              ],
              [
                -71.92079544067381,
                -13.5364052298884
              ]
            ]
            }
          
          } 
        ,{
            type: "Feature",
            properties: {
			  message: 'Baz',
              iconSize: [40, 40],
              name: "MEJORAMIENTO DEL SERVICIO DE TRANSITABILIDAD VEHICULAR Y PEATONAL DE LA AV. JUSTICIA Y JR. LA LIBERTAD EN LA URB. SAN FRANCISCO Y LA AV. LA CONVENCION DE LA URB. PROGRESO (ENTRE EL JR. LA VERDAD Y JR. SAYLLA)",
              PubType: "Wanchaq",
              times:
              "<br>"+"CÓDIGO SNIP: 2412227"+
	          "<br>" +
            "PRESUPUESTO: S/. 3,607,891.21"+
            "<br>" +
            "TIPO DE OBRA: Vías"+
            "<br>" +
            "PLAZO: 23/09/2020 - 19/07/2021"+
            "<br>" +
            "% AVANCE FÍSICO: 55%"+
            "<br>" +
            "BENEFICIARIOS: 1476"+
                "<br>"+" "+
                "<br>"
            },
            geometry: {
              type: "Point",
              coordinates: [-71.96734,-13.52264]
            }
          },
          {
            type: "Feature",
            properties: {
              name: "MEJORAMIENTO DEL SERVICIO DE TRANSITABILIDAD VEHICULAR Y PEATONAL EN LA AV. HUAMANTIANA",
              PubType: "Wanchaq",
              times:
              "<br>"+"CÓDIGO SNIP: 378993"+
                "<br>" +
                "PRESUPUESTO: S/. 1,753,170.12"+
                "<br>" +
                "TIPO DE OBRA: Vías"+
                "<br>" +
                "PLAZO: 03/09/2020 - 30/04/2021"+
                "% AVANCE FÍSICO: 55%"+
                "<br>" +
                "BENEFICIARIOS: 989"
                +
                "<br>"+" "+
                "<br>"
            },
            geometry: {
              type: "Point",
              coordinates: [-71.9517695, -13.5308791]
            }
          },
          {
            type: "Feature",
            properties: {
              name: "MEJORAMIENTO DEL SERVICIO DE TRANSITABILIDAD VEHICULAR Y PEATONAL DE LAS CALLES DE LA URBANIZACION JOSE CARLOS MARIATEGUI, CENTRO POBLADO DE WANCHAQ",
              PubType: "Wanchaq",
              times:
              "<br>"+"CÓDIGO SNIP: 2385413"+
                "<br>" +
                "PRESUPUESTO: S/. 2,824,357.20"+
                "<br>" +
                "TIPO DE OBRA: Vías"+
                "<br>" +
                "PLAZO: 19/08/2020 - 15/04/2021"+
                "<br>" +
                "% AVANCE FÍSICO: 60%"+
                "<br>" +
                "BENEFICIARIOS: 998"+
                "<br>"+" "+
                "<br>"
            },
            geometry: {
              type: "Point",
              coordinates: [-71.9387932, -13.5319332]
            }
          },
          {
            type: "Feature",
            properties: {
              name: "MEJORAMIENTO DE LOS SERVICIOS DE EDUCACIÓN INICIAL DE LA I.E. MARÍA TRINIDAD ENRIQUEZ DE LA URBANIZACIÓN TTIO",
              PubType: "Wanchaq",
              times:
              "<br>"+"CÓDIGO SNIP:"+
                "<br>" + 
                "PRESUPUESTO: S/. 3,036,193.52"+
                "<br>" +
                "TIPO DE OBRA: Vías"+
                "<br>" +
                "PLAZO:"+
                "<br>" + 
                  "% AVANCE FÍSICO: 87%"+
                "<br>" +
                "BENEFICIARIOS: "+
                "<br>"+" "+
                "<br>"
            },
            geometry: {
              type: "Point",
              coordinates: [-71.9562577, -13.5318944]
            }
          },
          {
            type: "Feature",
            properties: {
              name: "MEJORAMIENTO DE LA TRANSITABILIDAD PEATONAL Y VEHICULAR DE LA CALLE REPUBLICA DE ARGENTINA",
              PubType: "Wanchaq",
              times:
              "<br>"+"CÓDIGO SNIP: "+
                "<br>" +
                "PRESUPUESTO: S/. 1,354,814.00"+
                "<br>" +
                "TIPO DE OBRA: Vías"+
                "<br>" +
                "PLAZO: "+
                "<br>" +
                "% AVANCE FÍSICO: 20%"+
                "<br>" +
                "BENEFICIARIOS: "+
                "<br>"+" "+
                "<br>"
            },
            geometry: {
              type: "Point",
              coordinates: [-71.9425225, -13.5339925]
            }
          },
          {
              type: "Feature",
              properties: {
                name: "MEJORAMIENTO Y CONSTRUCCION DE MURO DE CONTENCION AVENIDA JUSTICIA Y LA CONVENCION",
                PubType: "Wanchaq",
                times:
                "<br>"+"CÓDIGO SNIP: "+
                "<br>" +
                "PRESUPUESTO: S/. 1,339,700.00"+
                "<br>" +
                "TIPO DE OBRA: Espacios públicos"+
                "<br>" +
                "PLAZO: "+
                "<br>" +
                "% AVANCE FÍSICO: 90% "+
                "<br>" +
                "BENEFICIARIOS: "+
                "<br>"+" "+
                "<br>"
              },
              geometry: {
          type: "Point",
          coordinates: [-71.9643871, -13.5269163]
        }
      },
      {
              type: "Feature",
              properties: {
                name: "MEJORAMIENTO Y AMPLIACIÓN DE LA OFERTA DE SERVICIOS EDUCATIVOS DE NIVEL SECUNDARIO DE LA I. E N°50025 - DANIEL ESTRADA PÉREZ",
                PubType: "Wanchaq",
                times:
                "<br>"+"CÓDIGO SNIP: "+
                "<br>" +
                "PRESUPUESTO: "+
                "<br>" +
                "TIPO DE OBRA: "+
                "<br>" +
                "PLAZO: "+
                "<br>" +
                "% AVANCE FÍSICO: 80% "+
                "<br>" +
                "BENEFICIARIOS: "+
                "<br>"+" "+
                "<br>"
              },
              geometry: {
                type: "Point",
                coordinates: [-71.9624256, -13.5245756]
              }
            },
            {
              type: "Feature",
              properties: {
                name: "RECUPERACION DEL MONUMENTO VIRREINAL RELIGIOSO TEMPLO DE SAN SEBASTIAN ARQUITECTURA Y ELEMENTOS DE INFRAESTRUCTURA FISICA DAÑADOS POR EL INCENDIO 2016",
                PubType: "San Sebastian",
                times:
                "<br>"+"CÓDIGO SNIP: 2383182"+
                "<br>" +
                "PRESUPUESTO: S/ 4,008,778.77"+
                "<br>" +
                "TIPO DE OBRA: Cultural"+
                "<br>" +
                "PLAZO: 09/2021 - 09/2020"+
                "<br>" +
                "% AVANCE FÍSICO: 80% "+
                "<br>" +
                "BENEFICIARIOS: "+
                "<br>"+" "+
                "<br>"
              },
              geometry: {
                type: "Point",
                coordinates: [-71.9376961, -13.5302581]
              }
            },
            {
              type: "Feature",
              properties: {
                name: "MEJORAMIENTO, AMPLIACIÓN DEL SERVICIO DE EDUCACIÓN PRIMARIA EN LA I.E. N 50014 TANKARPATA SECTOR TANKARPATA",
                PubType: "San Sebastian",
                times:
                "<br>"+"CÓDIGO SNIP: 266551"+
                "<br>" +
                "PRESUPUESTO: S/ 5,582,619"+
                "<br>" +
                "TIPO DE OBRA: Educación"+
                "<br>" +
                "PLAZO: 04/2019 - 05/2020"+
                "<br>" +
                "% AVANCE FÍSICO: 70%"+
                "<br>" +
                "BENEFICIARIOS: 2100"+
                "<br>"+" "+
                "<br>"
              },
              geometry: {
                type: "Point",
                coordinates: [-71.9488759, -13.5419141]
              }
            },
            {
              type: "Feature",
              properties: {
                name: "MEJORAMIENTO DEL CEMENTERIO CENTRAL",
                PubType: "San Sebastian",
                times:
                "<br>"+"CÓDIGO SNIP: 236235"+
                "<br>" +
                "PRESUPUESTO: S/ 1,970,167.52"+
                "<br>" +
                "TIPO DE OBRA: Espacio público"+
                "<br>" +
                "PLAZO: 03/2020 - 01/2021"+
                "<br>" +
                "% AVANCE FÍSICO: 90%"+
                "<br>" +
                "BENEFICIARIOS: 1038"+
                "<br>"+" "+
                "<br>"
              },
              geometry: {
                type: "Point",
                coordinates: [-71.9364336, -13.5332618]
              }
            },
            {
              type: "Feature",
              properties: {
                name: "MEJORAMIENTO DE ESCALINATAS EN LAS DIFERENTES APVS DE LA MARGEN IZQUIERDA Y DERECHA",
                PubType: "San Sebastian",
                times:
                "<br>"+ "CÓDIGO SNIP: 2485928"+
                "<br>" +
                "PRESUPUESTO: S/ 1,698,159.21"+
                "<br>" +
                "TIPO DE OBRA: Vías"+
                "<br>" +
                "PLAZO: 08/2020 - 04/2021"+
                "<br>" +
                "% AVANCE FÍSICO: 65%"+
                "<br>" +
                "BENEFICIARIOS: 7292"+
                "<br>"+" "+
                "<br>"
              },
              geometry: {
                type: "Point",
                coordinates: [-71.9223879, -13.5269661]
              }
            },
            {
              type: "Feature",
              properties: {
                name: "MEJORAMIENTO DE LA TRANSITABILIDAD VEHICULAR Y PEATONAL EN LA CALLE TENERIA SONDOR, PSJ. TENERIA, CALLE TICAPATA,PSJ.NNOMINADO A (PRECURSORES), PSJ. B (HIPOLITO HUNANUE), PSJ INNOMINADO C (LUCEROS DEL AMANECER), URB TENERIA",
                PubType: "San Sebastian",
                times:
                "<br>"+ "CÓDIGO SNIP: 155941"+
                "<br>" +
                "PRESUPUESTO: S/ 1,437,244.02"+
                "<br>" +
                "TIPO DE OBRA: Vías"+
                "<br>" +
                "PLAZO: 03/2020 - 10/2020"+
                "<br>" +
                "% AVANCE FÍSICO: 30% "+
                "<br>" +
                "BENEFICIARIOS: 6661"+
                "<br>"+" "+
                "<br>"
              },
              geometry: {
                type: "Point",
                coordinates: [-71.9106013, -13.5316119]
              }
            },
            {
              type: "Feature",
              properties: {
                name: "MEJORAMIENTO DE LA TRANSITABILIDAD VEHICULAR Y PEATONAL DE CALLE SR. DE QUISPIQUILLA, PJE. VERA, PJE. MUÑECAS, PJE. ARISTIDES MEZA, PJE. MELITON CAMPOS, PJE. CHUMA DE BOLIVIA Y PJE. VISITACION LOPEZ MORALES DE LA APV VERA VELASCO",
                PubType: "San Sebastian",
                times:
                "<br>"+  "CÓDIGO SNIP: 296927"+
                "<br>" +
                "PRESUPUESTO: S/ 730,864.61"+
                "<br>" +
                "TIPO DE OBRA: Vías"+
                "<br>" +
                "PLAZO: 12/2018  - 06/2019"+
                "<br>" +
                "% AVANCE FÍSICO: 90%"+
                "<br>" +
                "BENEFICIARIOS: 127"+
                "<br>"+" "+
                "<br>"
              },
              geometry: {
                type: "Point",
                coordinates: [-71.918139, -13.5421909]
              }
            },
            {
              type: "Feature",
              properties: {
                name: "MEJORAMIENTO DE LA TRANSITABILIDAD VEHICULAR Y PEATONAL DE LAS CALLES SIN NOMBRE Y ARCANGELES ENTRE LAS APVS SANTA ROSA COMITE 04, TRES CRUCES Y URB. SAN GABRIEL",
                PubType: "San Sebastian",
                times:
                "<br>"+ "CÓDIGO SNIP: 270645"+
                "<br>" +
                "PRESUPUESTO: S/ 2,749,287.34"+
                "<br>" +
                "TIPO DE OBRA: Vías"+
                "<br>" +
                "PLAZO: 12/2018 - 10/2019"+
                "<br>" +
                "% AVANCE FÍSICO: 70% "+
                "<br>" +
                "BENEFICIARIOS: 600"+
                "<br>"+" "+
                "<br>"+" "+
                "<br>"
              },
              geometry: {
                type: "Point",
                coordinates: [-71.9206846, -13.5278901]
              }
            }
        ]
      };
      map.on('load', function () {
        // Load an image from an external URL.
        map.loadImage(
        'images/cat.png',
        function (error, image) {
        if (error) throw error;
        
        // Add the image to the map style.
        map.addImage('cat', image);
        
        
        
        // Add a layer to use the image to represent the data.
        map.addLayer({
        'id': 'points',
        'type': 'symbol',
        'source': 'point', // reference the data source
        'layout': {
        
        }
        });
        }
        );
        });
        
      map.on("load", function() {
        map.addLayer({
          id: "places",
          type: "symbol",
          source: {
            type: "geojson",
            data: geojson
          },
          layout: {
            'icon-image': 'cat', // reference the image
            'icon-size': 0.2
          }
        });

        
        


        
        const pubTypes = geojson.features.map(feature => feature.properties.PubType);
        const uniquePubTypes = Array.from(new Set(pubTypes));
        const filterElem = document.getElementById('pubTypeFilter');
        uniquePubTypes.forEach(pubType => {
          const opt = document.createElement('option');
          opt.value = pubType;
          opt.innerText = pubType; 
          filterElem.appendChild(opt);
        });
        
        filterElem.onchange = () => {
          const pubType = filterElem.value;
          const newGeoJSON = {...geojson };
          if (pubType) {
            newGeoJSON.features = geojson.features.filter(feature => feature.properties.PubType === pubType);
          } else {
            newGeoJSON.features = [...geojson.features];
          }
          map.getSource('places').setData(newGeoJSON);
        };

        const popup = new mapboxgl.Popup();
        map.on("click", e => {
          const features = map.queryRenderedFeatures(e.point, { layers: ['places'] });
          if (features && features.length > 0) {
            popup
              .setLngLat(e.lngLat)
              .setHTML(
                "<h3>" +
                  features[0].properties.name +
                  "</h3>" +
                  "<h4>MÁS INFORMACIÓN</h4>" +
                  "<p>" +
                  features[0].properties.times +
                  "</p>"
              )
              .addTo(map);
          } else {
            popup.remove();
          }
        });
      });
      geojson.features.forEach(function(marker) {
        // create a HTML element for each feature
      var el = document.createElement('div');
      el.className = 'marker';

      // make a marker for each feature and add to the map
      new mapboxgl.Marker(el)
        .setLngLat(marker.geometry.coordinates)
        .addTo(map);
      });
    </script>
    <script>
      map.addControl(new mapboxgl.NavigationControl());
      map.addControl(new mapboxgl.FullscreenControl());
      map.addControl(new mapboxgl.GeolocateControl({
        fitBoundsOptions: {
            zoom: 15,
        },
          positionOptions: {
              enableHighAccuracy: true
          },
          trackUserLocation: true
      }));
      
    </script>
  </body>
  
</html>
